"use strict";angular.module("myApp",["ui.router","ui.bootstrap","uiGmapgoogle-maps","ngAnimate","ajoslin.promise-tracker"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/home"),a.state("home",{url:"/home",templateUrl:"scripts/home/home.html"}).state("about",{url:"/about",templateUrl:"scripts/about/about.html"}).state("contact",{url:"/contact",templateUrl:"scripts/contact/contact.html"})}]).config(["uiGmapGoogleMapApiProvider",function(a){a.configure({key:"AIzaSyCCDAlm1xXm0aYXAYcfVheJvKSKttIgCM8",v:"3.23",libraries:"weather,geometry,visualization"})}]).run(["$rootScope","$state","$timeout",function(a,b,c){a.$on("$viewContentLoaded",function(a,b){c(function(){Waypoint.refreshAll()},0)}),a.$on("$stateChangeSuccess",function(){$("html, body").animate({scrollTop:0},200),Waypoint.refreshAll()})}]),angular.module("myApp").directive("barChart",["$window",function(a){var b=function(b,c){var d=b.config,e=b.data,f=d.margin;d.width||(d.width=parseInt(d3.select(c.find("div")[0]).style("width"),10));var g=d.width-f.left-f.right,h=d.height-f.top-f.bottom,i=d3.scaleBand().range([h,0]).round(!0).padding(d.padding),j=d3.scaleLinear().range([0,g]),k=d3.axisLeft().scale(i),l=(d3.axisBottom().scale(j),d3.select(".barchart-wrapper").append("svg").attr("width",g+f.left+f.right).attr("height",h+f.top+f.bottom)),m=l.append("g").attr("transform","translate("+f.left+","+f.top+")");i.domain(e.map(function(a){return a.name})),j.domain([0,100]),m.append("g").attr("class","x axis").call(k),m.selectAll(".bar").data(e).enter().append("rect").attr("class","bar").attr("rx",10).attr("ry",10).attr("y",function(a){return i(a.name)}).attr("height",i.bandwidth()).attr("x",function(a){return 0}).attr("width",0),b.animation=function(){m.selectAll(".bar").attr("width",0).transition().duration(d.duration).attr("width",function(a){return j(a.number)})},b.animation(),angular.element(a).on("resize",function(){d.width=parseInt(d3.select(c.find("div")[0]).style("width"),10)-30,d.width&&(l.attr("width",d.width),g=d.width-f.left-f.right,j.range([0,d.width-f.left-f.right]),m.selectAll(".bar").transition().duration(d.duration).attr("width",function(a){return j(a.number)}))})},c=function(a){};return c.$inject=["$scope"],{link:b,scope:{config:"=",data:"=",animation:"="},controller:c,template:"<div class='barchart-wrapper'></div>",restrict:"AE"}}]),angular.module("myApp").directive("myWaypoint",function(){return{restrict:"A",link:function(a,b,c){new Waypoint({element:b,handler:function(b){"down"==b&&a.animation()},offset:"70%"})}}}),angular.module("myApp").controller("contactCtrl",["$scope","uiGmapGoogleMapApi","promiseTracker","$http","$log",function(a,b,c,d,e){a.status="not started",a.submitForm=function(){a.userForm.$valid&&(a.status="sending",$("#myModal").modal("show"),a.formData={name:a.firstName+" "+a.lastName,email:a.email,message:a.message},d.post("/contact",a.formData).then(function(b){var c=b.data;"success"==c?(a.firstName=null,a.lastName=null,a.email=null,a.message=null,a.status="Your message has been sent!",a.userForm.$setPristine()):(a.status="Oops, we received your message, but there was an error processing it.",e.error(c))},function(b){var c=b.data;a.status="There was a network error. Try again later.",e.error(c)}))},a.map={center:{latitude:42.3478837,longitude:-71.1194419},zoom:13},a.marker={name:"Thing 1",id:0,coords:{latitude:42.3478837,longitude:-71.1194419},options:{},events:{}}}]),angular.module("myApp").controller("homeCtrl",["$scope","$timeout","$window",function(a,b,c){a.projects=[{name:"Angular Components",link:"https://gp.ca.com",img:"img/angularjs.png",description:"This project is a collection of CA designed AngularJS UI Components."},{name:"IOT UI",link:"https://gp.ca.com",img:"img/ca.png",description:"This project is the UI for IoT project."},{name:"Facebook Plus",link:"https://github.com/huntriver/FacebookPlus-CSE-305-",img:"img/fb+.png",description:"This project is a social network system"},{name:"Tank VS Bugs",link:"https://github.com/huntriver/TankVSBugs-CSE380-",img:"img/tankvsbugs.png",description:"This project is a game written in C++ with Box2D and Lua scripts."},{name:"JOS",link:"https://github.com/huntriver/JOS-CSE-506-",img:"img/jos.png",description:"a series of labs where you build up an operating system called JOS. "}],a.barconfig={height:300,padding:.2,margin:{top:20,right:0,bottom:30,left:100},duration:600,yDomain:"number",xDomain:"name"},a.bardata=[{name:"Javascript",number:90},{name:"AngularJS",number:90},{name:"JQuery",number:80},{name:"Python",number:20},{name:"C",number:50},{name:"Java",number:70}]}]).directive("repeatDirective",["$window",function(a){return function(b,c,d){function e(){var a=$(".projectContainer").width();angular.element(c).find("h2").css("font-size",30*a/467.45+"px"),angular.element(c).find("p,a").css("font-size",25*a/467.45+"px")}e(),angular.element(a).on("resize",function(){e()})}}]);